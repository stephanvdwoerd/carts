pico-8 cartridge // http://www.pico-8.com
version 18
__lua__
function _init()
t = 0
end

function _update()
t+=1
t %=100


end

function _draw()
cls()
rspr(0,0,64,64,t/100,1,2)
end

function rspr(sx,sy,x,y,a,w,h)
    local ca,sa=cos(a),sin(a)
    local srcx,srcy
    local ddx0,ddy0=ca,sa
    local mask=shl(0xfff8,(w-1))
    w*=4
    ca*=w-0.5
    sa*=w-0.5
    local dx0,dy0=sa-ca+w,-ca-sa+w
    w=2*w-1
    for ix=0,w do
        srcx,srcy=dx0,dy0
        for iy=0,w do
            if band(bor(srcx,srcy),mask)==0 then
                local c=sget(sx+srcx,sy+srcy)
                if c != 0 then
                pset(x+ix,y+iy,c)
            	end
            end
            srcx-=ddy0
            srcy+=ddx0
        end
        dx0+=ddx0
        dy0+=ddy0
    end
end

__gfx__
00000077770000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000077770000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
000000dd660000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
000000dd660000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
000000dd660000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
000000dd660000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
000000dd660000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
000000dd660000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
000000dd660000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
000000dd660000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
000000dd660000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
000000dd660000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
000000dd660000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
000000dd660000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
000000dd660000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000055550000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
